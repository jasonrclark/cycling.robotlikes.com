<html>
  <head>
    <link rel="stylesheet" href="https://jasonrclark.com/css/pixyll.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.js"></script>
  </head>
  <body>
    <h1 class="post-title">Robot Likes Cycling</h1>

    <div style="height:200px;width:50%">
      <canvas id="ridesChart"></canvas>
    </div>

    <script>
      var rides = [];
      fetch('/rides.json')
        .then((response) => response.json())
        .then((data) => {
          rides = data;

          const ctx = document.getElementById('ridesChart');
          const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
              datasets: [{
                  label: 'Ride Durations',
                  data: rides,
                  borderColor: 'black',
                  borderWidth: 1
              }]
            },
            options: {
              parsing: {
                xAxisKey: 'ride_date',
                yAxisKey: 'distance',
              },
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
        });

    </script>
  </body>
</html>
